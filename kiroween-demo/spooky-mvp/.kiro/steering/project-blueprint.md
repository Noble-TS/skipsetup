# SkipSetup Project Blueprint

## ARCHITECTURE OVERVIEW

### Core Technologies
- **Frontend**: Next.js 15 with App Router, React 19, TypeScript
- **Backend**: tRPC for type-safe APIs, Better Auth for authentication
- **Database**: Prisma ORM with PostgreSQL
- **Styling**: Tailwind CSS with glassmorphism design system
- **State Management**: TanStack Query (React Query) for server state

### Project Structure
```
spooky-mvp/
├── src/
│   ├── app/                 # Next.js App Router
│   │   ├── (auth)/         # Authentication routes (grouped)
│   │   ├── _components/    # Reusable UI components
│   │   ├── api/           # API routes
│   │   └── layout.tsx     # Root layout
│   ├── server/            # Backend logic
│   │   ├── api/           # tRPC routers
│   │   ├── better-auth/   # Authentication system
│   │   └── db.ts          # Database client
│   ├── trpc/              # tRPC client configuration
│   └── utils/             # Utility functions
├── prisma/                # Database schema and migrations
├── generated/            # Generated Prisma client
└── public/               # Static assets
```

## GENERATED BY SKIPSETUP CLI

### CLI Command Used
```bash
node apps/cli/dist/cli.js create spooky-mvp --size small
```

### Activated Plugins
- **small**: Custom plugin functionality

### Infrastructure Services
- **local-db**: Infrastructure service

## DEVELOPMENT CONSTRAINTS

### DO NOT MODIFY (Core Files)
- `src/server/better-auth/config.ts` - Core authentication configuration
- `src/server/db.ts` - Database client singleton
- `prisma/schema.prisma` - Database schema (use migrations)
- `src/env.js` - Environment validation

### PATTERNS TO FOLLOW
- **Components**: Use existing patterns from `src/app/_components/`
- **API**: Follow tRPC router patterns from `src/server/api/routers/post.ts`
- **Authentication**: Use `authClient` from `src/server/better-auth/client.ts`
- **Database**: Always use Prisma client, never raw SQL

## AVAILABLE UTILITIES

### Authentication Hooks
```typescript
import { authClient } from "~/server/better-auth/client";
// Available: signIn, signUp, signOut, useSession, emailOtp
```

### UI Components
```typescript
import Button from "~/app/_components/ui/button/Button";
import Input from "~/app/_components/form/input/InputField";
import Checkbox from "~/app/_components/form/input/Checkbox";
// All components support dark/light modes and glassmorphism
```

### API Integration
```typescript
import { api } from "~/trpc/react";
// Use: api.post.create.useMutation(), api.post.getLatest.useQuery()
```

## PLUGIN ACTIVATION DETAILS

This project was activated using the Fullstack plugin with the following capabilities:

### Generated Files Structure
- `src/env.js`: Environment variable validation with Zod
- `prisma/schema.prisma`: Database schema with Better Auth models
- `src/server/db.ts`: Prisma client with connection pooling
- `src/server/better-auth/config.ts`: Better Auth configuration with email OTP
- `src/server/api/trpc.ts`: tRPC context and procedure definitions
- `src/trpc/react.tsx`: tRPC React client with query caching
- `src/app/_components/auth/SignInForm.tsx`: Authentication form with OTP support

### Available Authentication Flows
- Email/Password signup and login
- OTP verification via email
- Password reset functionality
- Session management with Better Auth
- User profile management

### Database Models
- User, Session, Account, Verification (Better Auth)
- Post (example model with user relations)

### Email System
- Resend integration for transactional emails
- Email templates for OTP, password reset, welcome
- React Email components with aqua/mint theme

## SECURITY CONSTRAINTS

### Authentication
- Never expose BETTER_AUTH_SECRET
- Use protectedProcedure for authenticated endpoints
- Session management is handled automatically

### Database
- Always use Prisma client (never raw SQL)
- Input validation with Zod in tRPC procedures
- Proper relation handling in schema

### API Security
- tRPC provides type-safe endpoints
- Input validation on all procedures
- Error handling with proper status codes
